String.prototype.simpleMaskStringCount=function(e){return(this.length-this.replace(new RegExp(e,"g"),"").length)/e.length},function(e){var t={mask:"",nextInput:null,onComplete:null},n=[],s={init:function(n){var s=e.extend({},t,n);return this.each(function(){e.fn.simpleMask.process(e(this),s)})},unmask:function(){return this.each(function(){e.fn.simpleMask.unmask(this)})}};e.fn.simpleMask=function(t){return s[t]?s[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void e.error("Method "+t+" does not exist on jQuery.simpleMask"):s.init.apply(this,arguments)},e.fn.simpleMask.makeId=function(){for(var e="",t="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789abcdefghijklmnopqrstuvwxyz0123456789",n=t.length,s=0;s<8;s++)e+=t.charAt(Math.floor(Math.random()*n));return e},e.fn.simpleMask._onComplete=function(t){var s="object"==typeof t?e(t).attr("data-mask-ids"):t;null!==n[s].options.onComplete?(n[s].options.onComplete.call(this,n[s]),e.fn.simpleMask._nextInput(s)):e.fn.simpleMask._nextInput(s)},e.fn.simpleMask.nextOnTabIndex=function(t){var n=e(e("form").find("input, select, textarea").filter(":visible").filter(":enabled").toArray().sort(function(e,t){return(e.tabIndex>0?e.tabIndex:1e3)-(t.tabIndex>0?t.tabIndex:1e3)}));return n.eq((n.index(t)+1)%n.length)},e.fn.simpleMask._nextInput=function(t){var s="object"==typeof t?e(t).attr("data-mask-ids"):t;if(null!==n[s].options.nextInput)if(n[s].options.nextInput===!0){var a=e.fn.simpleMask.nextOnTabIndex(n[s].element);a.length>0&&a.select().focus()}else n[s].options.nextInput.length>0&&n[s].options.nextInput.select().focus()},e.fn.simpleMask.unmask=function(t){var s="object"==typeof t?e(t).attr("data-mask-ids"):t;e(n[s].element).removeClass("input-masked").removeAttr("data-mask-ids"),""===e(n[s].element).attr("class")&&e(n[s].element).removeAttr("class"),e(document).off("keyup.simpleMask change.simpleMask",'input[data-mask-ids="'+s+'"]'),e(document).off("keydown.simpleMask",'input[data-mask-ids="'+s+'"]')},e.fn.simpleMask.isNumber=function(e){return""!==e.replace(/\D/g,"")},e.fn.simpleMask.onlyNumbers=function(e){return e.replace(/\D/g,"")},e.fn.simpleMask.onlyNumbersLength=function(e){return e.replace(/\D/g,"").length},e.fn.simpleMask.applyMask=function(t){var n=t.element,s=e(n)[0],a=(s.selectionStart,s.selectionEnd),l=t.oldvalue,i=e(n).val(),o=e.fn.simpleMask.onlyNumbers(e(n).val()),r=t.masks[0],p=t.masks[t.masks.length-1].simpleMaskStringCount("#");o.length>p&&(o=o.substr(0,p));var m=o.length;for(var u in t.masks)if(t.masks[u].simpleMaskStringCount("#")==m){r=t.masks[u];break}if(o.length>0){o=o.trim();for(var k=r,f=o.length,c=0;c<f;c++)k=k.replace("#",o.charAt(c));var d=k.indexOf("#");d!=-1&&(k=k.substr(0,d));var h=k.substr(k.length-1,1);""===e.fn.simpleMask.onlyNumbers(h)&&(k=k.substr(0,d-1));for(var g=k.substr(k.length-1,1);k.length>0&&e.fn.simpleMask.isNumber(g)===!1;)k=k.substr(0,k.length-1),g=k.substr(k.length-1,1);k!=i&&e(n).val(k),k!=l&&k.length==r.length&&k.length<=a&&k.length==t.maxlengthmask&&e.fn.simpleMask._onComplete(n.attr("data-mask-ids"))}else e(n).val("");t.oldvalue=e(n).val()},e.fn.simpleMask.process=function(t,s){for(var a=e.fn.simpleMask.makeId();void 0!==n[a];)a=e.fn.simpleMask.makeId();var l={};l.element=t,l.options=s,l.nextInput=s.nextInput,l.onComplete=s.onComplete,l.oldvalue=e(t).val();var i=[];i="string"==typeof s.mask?[s.mask]:s.mask;for(var o in i)switch(i[o].toLowerCase()){case"cpf":i[o]="###.###.###-##";break;case"cnpj":i[o]="##.###.###/####-##";break;case"cep":i[o]="#####-###";break;case"date":case"data":i[o]="##/##/####";break;case"telefone":case"tel":i[o]="####-####";break;case"telefone9":case"tel9":i[o]="####-####",i.push("#####-####");break;case"ddd-telefone9":case"ddd-tel9":i[o]="(##) ####-####",i.push("(##) #####-####")}l.masks=i,l.masks.sort(function(e,t){return e.length-t.length}),l.maxlengthmask=l.masks[l.masks.length-1].length,n[a]=l,t.attr("data-mask-ids",a).addClass("input-masked"),e(document).on("keyup.simpleMask change.simpleMask",'input[data-mask-ids="'+a+'"]',function(){e.fn.simpleMask.applyMask(l)}),e(document).on("paste",'input[data-mask-ids="'+a+'"]',function(t){var n=e(this);setTimeout(function(){n.keyup()},100)}),e(document).on("keydown.simpleMask",'input[data-mask-ids="'+a+'"]',function(e){e.ctrlKey||e.keyCode>=65&&e.keyCode<=90&&e.preventDefault()}),e.fn.simpleMask.applyMask(l)}}(jQuery);